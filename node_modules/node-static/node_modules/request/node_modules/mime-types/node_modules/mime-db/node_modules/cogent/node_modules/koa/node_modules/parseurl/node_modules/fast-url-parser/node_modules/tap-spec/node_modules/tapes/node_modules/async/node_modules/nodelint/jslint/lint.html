<html>
<head>
<title>JSLint: The JavaScript Code Quality Tool</title>
<link rel="icon" type="image/gif" href="http://www.JSLint.com/favicon.gif">
<style>
body {
    background-color: linen;
    margin-left: 8%;
    margin-right: 8%;
}
pre {
    margin-left: 40px;
}
table {
    margin: 10px;
    border: 0px;
}
th, td {
    border: black solid 1pt;
    padding-left: 10px;
    padding-right: 10px;
    vertical-align: top;
}
th {
    background-color: thistle;
}
td {
    background-color: white;
}
#top table {
    margin: 0px;
}
#top td {
    background-color: linen;
    border: 0pt;
    vertical-align: middle;
}
ul {
    list-style-type: square;
}
input[type="button"] {
    border: 2px solid black;
}
a:link {
    color: darkblue;
}
a:visited {
    color: purple;
}
a:hover {
    color: blue;
    text-decoration: underline;
}
a:active {color: red;
}
</style>
</head>
<body bgcolor="gainsboro">
<table id="top" border="0">
  <tr>
    <td><img src="jslint.gif" width="383" height="120" alt="JSLint"> </td>
    <td>
      <p><big><code>JSLint</code>: The
        <a href="http://javascript.crockford.com/">JavaScript</a> Code Quality Tool</big></p>
      <p><a href="http://www.crockford.com/" target="_top">&copy;2002 Douglas Crockford</a></p>
    </td>
  </tr>
</table>
<br clear="all">
<h2 id=warning>Warning!</h2>
<p><a href="http://www.JSLint.com" target="_blank"><code>JSLint</code></a>
  will hurt your feelings.</p>
<h2 id=what>What is <code>JSLint</code>?</h2>

<p><a href="http://www.JSLint.com" target="_blank"><code>JSLint</code></a>
  is a JavaScript program that looks for problems in JavaScript programs.
  It is a code quality tool.</p>

<p>When <a href="http://en.wikipedia.org/wiki/C_programming_language">C</a>
  was a <a href="http://cm.bell-labs.com/cm/cs/who/dmr/chist.html">young</a>
  programming language, there were several common programming errors that
  were not caught by the primitive compilers, so an accessory program called
  <code><a href="http://en.wikipedia.org/wiki/Lint_programming_tool">lint</a></code>
  was developed that would scan a source file, looking for problems.</p>

<p>As the language matured, the definition of the language was
strengthened to eliminate some insecurities, and compilers got better
at issuing warnings. <code>lint</code> is no longer needed.</p>

<p><a href="http://javascript.crockford.com/">JavaScript</a> is a young-for-its-age
  language. It was originally intended to do small tasks in webpages, tasks
  for which Java was too heavy and clumsy. But JavaScript is a very capable
  language, and it is now being used in larger projects. Many of the features
  that were intended to make the language easy to use are troublesome when projects become complicated. A <code>lint</code> for JavaScript is needed: <a href="http://www.JSLint.com/"><code>JSLint</code></a>,
  a JavaScript syntax checker and validator.</p>

<p><code>JSLint</code> takes a JavaScript source and scans it. If it finds
  a problem, it returns a message describing the problem and an approximate
  location within the source. The problem is not necessarily a syntax error,
  although it often is. <code>JSLint</code> looks at some style conventions
  as well as structural problems. It does not prove that your program is
  correct. It just provides another set of eyes to help spot problems.</p>

<p><code>JSLint</code> defines a professional subset of JavaScript, a stricter
  language than that defined by <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" target="ecma">Third
  Edition of the <i>ECMAScript Programming Language Standard</i></a>. The
  subset is related to recommendations found in <a href="http://javascript.crockford.com/code.html" target="sun"><i>Code
  Conventions for the JavaScript Programming Language</i></a>. </p>
<p>JavaScript is a sloppy language, but inside it there is an elegant, better
  language. <code>JSLint</code> helps you to program in that better language
  and to avoid most of the slop. JSLint will reject programs that browsers will accept because JSLint is concerned with the quality of your code and browsers are not. You should accept all of JSLint's advice.</p>
<p><code>JSLint</code> can operate on JavaScript source, HTML source, CSS source, or <a href="http://www.JSON.org/">JSON</a>
  text.</p>
<h2 id=global>Global Variables</h2>
<p>JavaScript's <a href="http://yuiblog.com/blog/2006/06/01/global-domination/">biggest
  problem</a> is its dependence on global variables, particularly implied
  global variables. If a variable is not explicitly declared (usually with
  the <code>var</code> statement), then JavaScript assumes that the variable
  was global. This can mask misspelled names and other problems.</p>
<p><code>JSLint</code> expects that all variables and functions are declared
  before they are used or invoked. This allows it to detect implied global
  variables. It is also good practice because it makes programs easier to
  read.</p>
<p>Sometimes a file is dependent on global variables and functions that
  are defined elsewhere. You can identify these to <code>JSLint</code> with a <code>var</code> statement that lists the global functions and objects
  that your program depends on. </p>
<p>A global declaration can look like this:</p>
<pre>var getElementByAttribute, breakCycles, hanoi;</pre>
<p>The declaration should appear near the top of the file. It must appear before the use of the variables
  it declares. </p>
<p>It is necessary to use a <code>var</code> statement to declare a variable before that variable is assigned to. </p>
<p><code>JSLint</code> also recognizes a <code>/*global */</code> directive that can indicate to <code>JSLint</code> that variables used in this file were defined in other files. The comment can contain a comma separated list of names. Each name can optionally be followed by a colon and either <code>true</code> or <code>false</code>, <code>true</code> indicating that the variable may be assigned to by this file, and <code>false</code> indicating that assignment is not allowed (which is the default). The directive respects function scope.</p>
<p id=browser>Some globals can be predefined for you. Select the <i>Assume
  a browser</i> (<code>browser</code>) <a href="#options">option</a> to
  predefine the standard global properties that are supplied by web browsers,
  such as <code>document</code> and <code>addEventListener</code>. It has the same
  effect as this comment:</p>
<blockquote>
<code>/*global
clearInterval: false, clearTimeout: false, document: false, event: false, frames: false, history: false, Image: false, location: false, name: false, navigator: false, Option: false, parent: false, screen: false, setInterval: false, setTimeout: false, window: false, XMLHttpRequest: false
*/</code></blockquote>
<p>Select the
    <em>Assume console, alert, ...</em>
(<code>devel</code>) <a href="#options">option</a> to predefine globals that are useful in development but that should be avoided in production, such as <code>console</code> and <code>alert</code>. It has the same
effect as this comment:</p>
<pre>/*global alert: false, confirm: false, console: false, Debug: false, opera: false, prompt: false, WSH: false */</pre>
<p id=node>Select the
    <em>Assume Node.js</em>
    (<code>node</code>) <a href="#options">option</a> to predefine globals that are used in the Node.js environment<code></code>. It has the same
    effect as this comment:</p>
<blockquote><code>/*global Buffer: false, clearInterval: false, clearTimeout: false, console: false, exports: false, global: false, module: false, process: false, querystring: false, require: false, setInterval: false, setTimeout: false, __filename: false, __dirname: false */</code></blockquote>
<p id=rhino>Select the <i>Assume Rhino</i> (<code>rhino</code>) <a href="#options">option</a>
    to predefine the global properties provided by the Rhino environment.
  It has the same effect as this statement:</p>
<blockquote>
  <code>/*global defineClass: false, deserialize: false, gc: false, help: false, load: false, loadClass: false, print: false, quit: false, readFile: false, readUrl: false, runCommand: false, seal: false, serialize: false, spawn: false, sync: false, toint32: false, version: false */ </code>
</blockquote>
<p id=widget>Select the <i>Assume a Yahoo Widget</i> (<code>widget</code>)
  <a href="#options">option</a> to predefine the global properties provided
  by the Yahoo! Widgets environment. It has the same effect as this statement:</p>
<blockquote>
  <code>/*global alert: true, animator: true, appleScript: true, beep: true, bytesToUIString: true, Canvas: true, chooseColor: true, chooseFile: true, chooseFolder: true, closeWidget: true, COM: true, convertPathToHFS: true, convertPathToPlatform: true, CustomAnimation: true, escape: true, FadeAnimation: true, filesystem: true, Flash: true, focusWidget: true, form: true, FormField: true, Frame: true, HotKey: true, Image: true, include: true, isApplicationRunning: true, iTunes: true, konfabulatorVersion: true, log: true, md5: true, MenuItem: true, MoveAnimation: true, openURL: true, play: true, Point: true, popupMenu: true, preferenceGroups: true, preferences: true, print: true, prompt: true, random: true, Rectangle: true, reloadWidget: true, ResizeAnimation: true, resolvePath: true, resumeUpdates: true, RotateAnimation: true, runCommand: true, runCommandInBg: true, saveAs: true, savePreferences: true, screen: true, ScrollBar: true, showWidgetPreferences: true, sleep: true, speak: true, Style: true, suppressUpdates: true, system: true, tellWidget: true, Text: true, TextArea: true, Timer: true, unescape: true, updateNow: true, URL: true, Web: true, widget: true, Window: true, XMLDOM: true, XMLHttpRequest: true, yahooCheckLogin: true, yahooLogin: true, yahooLogout: true */</code>
</blockquote>
<p id=windows>Select the <i>Assume Windows</i> (<code>windows</code>)
  <a href="#options">option</a> to predefine the global properties provided by Microsoft Windows. It has the same effect as this statement:</p>
<blockquote>
    <p><code>/*global ActiveXObject: false, CScript: false, Debug: false, Enumerator: false, System: false, VBArray: false, WScript: false, WSH: false */</code></p>
</blockquote>
<h2 id=semicolon>Semicolon</h2>
<p>JavaScript uses a C-like syntax which requires the use of semicolons to delimit certain
  statements. JavaScript attempts to make those semicolons optional with a semicolon
  insertion mechanism. This is dangerous because it can mask errors.</p>
<p>Like C, JavaScript has <code>++</code> and <code>--</code> and <code>(</code> operators
  which can be prefixes or suffixes. The disambiguation is done by the semicolon.</p>
<p>In JavaScript, a linefeed can be whitespace or it can act as a semicolon.
  This replaces one ambiguity with another. </p>
<p><code>JSLint</code> expects that every statement be followed by <code>;</code> except
  for <code>for</code>, <code>function</code>, <code>if</code>, <code>switch</code>, <code>try</code>, and
  <code>while</code>. <code>JSLint</code> does not expect to see unnecessary semicolons or the
  empty statement.</p>
<h2 id=comma>Comma</h2>
<p>The comma operator can lead to excessively tricky expressions. It can also
  mask some programming errors.</p>
<p><code>JSLint</code> expects to see the comma used as a separator, but not as an
  operator (except in the initialization and incrementation parts of the <code>for</code>
  statement). It does not expect to see elided elements in array literals. Extra
  commas should not be used. A comma should not appear after the last element
  of an array literal or object literal because it can be misinterpreted by some
  browsers. </p>
<h2 id=scope>Scope</h2>

<p>In many languages, a block introduces a scope. Variables introduced in
  a block are not visible outside of the block.</p>

<p>In JavaScript, blocks do not introduce a scope. There is only function-scope.
  A variable introduced anywhere in a function is visible everywhere in
  the function. JavaScript's blocks confuse experienced programmers and
  lead to errors because the familiar syntax makes a false promise.</p>

<p><code>JSLint</code> expects blocks with <code>function</code>, <code>if</code>,
  <code>switch</code>, <code>while</code>, <code>for</code>, <code>do</code>,
  and <code>try</code> statements and nowhere else. </p>
<p>In languages with block scope, it is usually recommended that variables
  be declared at the site of first use. But because JavaScript does not
  have block scope, it is wiser to declare all of a function's variables
  at the top of the function. It is recommended that a single <code>var</code>
  statement be used per function. This can be declined with the <code>vars</code>
  <a href="#options">option</a>.</p>

<h2 id=required>Required Blocks</h2>

<p><code>JSLint</code> expects that <code>if</code>, <code>while</code>,
  <code>do</code> and <code>for</code> statements will be made with blocks
  <code>{</code>that is, with statements enclosed in braces<code>}</code>.</p>

<p>JavaScript allows an <code>if</code> to be written like this:</p>

<pre>if (<i>condition</i><code>)
    </code><i>statement</i>;</pre>

<p>That form is known to contribute to mistakes in projects where many programmers
  are working on the same code. That is why <code>JSLint</code> expects the use of
  a block:</p>

<pre>if (<i>condition</i>) {
    <i>statements</i>;
}</pre>

<p>Experience shows that this form is more resilient.</p>

<h2 id=expression>Expression Statements</h2>
<p>An expression statement is expected to be an assignment or a function/method
  call or <code>delete</code>. All other expression statements are considered
  to be errors.</p>
<h2 id=forin><code>for</code> <code>in</code></h2>
<p>The <code>for</code> <code>in</code> statement allows for looping through
  the names of all of the properties of an object. <a href="http://yuiblog.com/blog/2006/09/26/for-in-intrigue/">Unfortunately,
  it also loops through all of the properties that were inherited through
  the prototype chain.</a> This has the bad side effect of serving up method
  functions when the interest is in data properties. If a program is written without awareness of this situation, then it can fail.</p>
<p>The body of every <code>for</code> <code>in</code> statement should be
  wrapped in an <code>if</code> statement that does filtering. It can select
  for a particular type or range of values, or it can exclude functions,
  or it can exclude properties from the prototype. For example,</p>
<pre>for (name in object) {
    if (object.hasOwnProperty(name)) {
        ....
    }

}</pre>

<h2 id=switch><code>switch</code></h2>
<p>A <a href="http://yuiblog.com/blog/2007/04/25/id-rather-switch-than-fight/">common
  error</a> in <code>switch</code> statements is to forget to place a <code>break</code>
  statement after each case, resulting in unintended fall-through. <code>JSLint</code>
  expects that the statement before the next <code>case</code> or <code>default</code>
  is one of these: <code>break</code>, <code>return</code>, or <code>throw</code>.
</p>
<h2 id=var><code>var</code></h2>

<p>JavaScript allows <code>var</code> definitions to occur anywhere
  within a function. <code>JSLint</code> is more strict.</p>

<p><code>JSLint</code> expects that a <code>var</code> will be declared
  only once, and that it will be declared before it is used.</p>
<p><code></code><code>JSLint</code> expects that a <code>function</code>
  will be declared before it is used.</p>
<p><code>JSLint</code> expects that parameters will not also be declared
  as vars. </p>

<p><code>JSLint</code> does not expect the <code>arguments</code> array to be declared
  as a <code>var</code>.</p>
<p><code>JSLint</code> does not expect that a var will be defined in a block.
  This is because JavaScript blocks do not have block scope. This can have
  unexpected consequences. Define all variables at the top of the function.</p>

<h2 id=with><code>with</code></h2>

<p>The <code>with</code> statement was intended to provide a shorthand in accessing
  properties in deeply nested objects. Unfortunately, it behaves <a href="http://yuiblog.com/blog/2006/04/11/with-statement-considered-harmful/">very
  badly</a> when setting new properties. Never use the <code>with</code> statement. Use
  a <code>var</code> instead.</p>

<p><code>JSLint</code> does not expect to see a <code>with</code> statement.</p>

<h2 id=assignment>=</h2>
<p><code>JSLint</code> does not expect to see an assignment statement in
  the condition part of an <code>if</code> or <code>for</code> or <code>while</code>
  <code></code> or <code>do</code> statement. This is because it is more
  likely that </p>
<pre>if (a = b) {
    ...
}</pre>
<p>was intended to be </p>
<pre>if (a == b) {
    ...
}</pre>
<p>It is difficult to write correct programs while using idioms that are
  hard to distinguish from obvious errors.</p>
<h2 id=eqeq>== and !=</h2>
<p>The <code>==</code> and <code>!=</code> operators do type coercion before
  comparing. This is bad because it causes <code>' \t\r\n' == 0</code> to
  be <code>true</code>. This can mask type errors. JSLint cannot reliably determine if == is being used correctly, so it is best to not use <code>==</code> and != and to always use the more reliable <code>===</code> and <code>!==</code> operators instead. </p>
<p align="left">If you only care that a value is <i>truthy</i> or <i>falsy</i>,
  then use the short form. Instead of </p>
<pre align="left">(foo != 0)</pre>
<p align="left">just say </p>
<pre align="left">(foo)</pre>
<p align="left">and instead of</p>
<pre align="left">(foo == 0)</pre>
<p align="left"> say</p>
<pre align="left">(!foo)</pre>
<p>There is an <code>eqeq</code> <a href="#options">option</a> that allows the use of <code>==</code> and <code>!=</code>.</p>
<h2 id=labels>Labels</h2>
<p>JavaScript allows any statement to have a label, and labels have a
  separate name space. <code>JSLint</code> is more strict.</p>

<p><code>JSLint</code> expects labels only on statements that interact
  with <code>break</code>: <code>switch</code>, <code>while</code>,
  <code>do</code>, and <code>for</code>. <code>JSLint</code> expects that labels
  will be distinct from vars and parameters.</p>

<h2 id=unreachable>Unreachable Code</h2>
<p><code>JSLint</code> expects that
  a <code>return</code>, <code>break</code>, <code>continue</code>,
  or <code>throw</code> statement will be followed by
  a <code>}</code> or <code>case</code> or <code>default</code>.</p>

<h2 id=pluses>Confusing Pluses and Minuses</h2>

<p><code>JSLint</code> expects that <code>+</code> will not be followed by
<code>+</code> or <code>++</code>, and that <code>-</code> will not be followed
by <code>-</code> or <code>--</code>. A misplaced space can turn <code>+ +</code> into <code>++</code>, an error that is difficult to see. Use parens to avoid confusion..</p>
<h2 id=inc><code>++</code> and <code>--</code></h2>
<p>The <code>++</code> <small>(increment)</small> and <code>--</code> <small>(decrement)</small>
  operators have been known to contribute to bad code by encouraging excessive
  trickiness. They are second only to faulty architecture in enabling to
  viruses and other security menaces. Also, preincrement/postincrement confusion can produce off-by-one errors that are extremely difficult to diagnose. There is a <code>plusplus</code> <a href="#options">option</a>
  that allows the use of these operators.</p>
<h2 id=bitwise>Bitwise Operators</h2>
<p>JavaScript does not have an integer type, but it does have bitwise operators.
  The bitwise operators convert their operands from floating point to integers
  and back, so they are not as efficient as in C or other languages. They
  are rarely useful in browser applications. The similarity to the logical
  operators can mask some programming errors. The <code>bitwise</code> <a href="#options">option</a>
  allows the use of these operators: <code>&lt;&lt; &gt;&gt; &gt;&gt;&gt;
  ~ &amp; |</code>.</p>
<h2 id=evil><code>eval</code> is evil</h2>
<p>The <code>eval</code> function (and its relatives, <code>Function</code>,
  <code>setTimeout</code>, and <code>setInterval</code>) provide access
  to the JavaScript compiler. This is sometimes necessary, but in most cases
  it indicates the presence of extremely bad coding. The <code>eval</code>
  function is the most misused feature of JavaScript.</p>

<h2 id=void